@using BlackMesa.Website.Main.Resources

@model BlackMesa.Website.Main.Areas.Learning.ViewModels.Folder.FolderDetailsViewModel

@{
    ViewBag.Title = Model.Name;
}



@* ------------------- Content ------------------- *@

<div id="content">
    <section id="folder-details">

        <div class="tile gray-darker">
            <h1><i class="fa fa-folder"></i> @ViewBag.Title</h1>
        </div>

        @foreach (var subFolder in Model.SubFolders)
        {

            <a href="@Url.Action("Details", "Folder", new { id = subFolder.Id })">
                <div class="tile gray-light-hover">
                    <i class="fa fa-folder"></i> @subFolder.Name
                </div>
            </a>
            
        }


        @foreach (var textCard in Model.TextCards)
        {
            <div class="tile gray-light">
               <i class="fa fa-file"></i> @textCard.Question
            </div>

        }


    </section>

    
</div>



@* ------------------- Submenu ------------------- *@

<nav id="folder-submenu" class="submenu">
    <a class="red-hover" href="@Url.Action("Edit", "Folder", new { id = Model.Id })" title="@Strings.Edit">
        <i class="fa fa-pencil"></i>
    </a>

    <a class="red-hover" href="@Url.Action("Delete", "Folder", new { id = Model.Id })" title="@Strings.Delete">
        <i class="fa fa-trash-o"></i>
    </a>
    
    <a class="red-hover" href="@Url.Action("Details", "Folder", new { id = Model.Id })" title="@Strings.Back">
        <i class="fa fa-reply"></i>
    </a>

</nav>


@* ------------------- Submenu ------------------- *@

<nav id="create-submenu" class="submenu">

    <a class="red-hover" href="@Url.Action("Create", "TextCard", new { folderId = Model.Id })" title="@Strings.CreateTextCard">
        <i class="fa fa-file"></i>
    </a>
    <a class="red-hover" href="@Url.Action("Create", "Folder", new { parentFolderId = Model.Id })" title="@Strings.CreateSubFolder">
        <i class="fa fa-folder"></i>
    </a>
    
    <a class="red-hover" href="@Url.Action("Details", "Folder", new { id = Model.Id })" title="@Strings.Back">
        <i class="fa fa-reply"></i>
    </a>
</nav>


@* ------------------- Menu ------------------- *@

<nav id="menu">


    <a class="red-hover" href="@Url.Action("Index", "Folder")" title="@Strings.Home">
        <i class="fa fa-home"></i>
    </a>

    <a class="red-hover" href="@Url.Action("Index", "Folder")" title="@Strings.YourFolders">
        <i class="fa fa-list"></i>
    </a>
    
    <a id="folder-submenu-tile" class="submenu-tile red-hover" href="#" title="@Strings.Folder">
        <i class="fa fa-folder"></i>
    </a>

    <a id="create-submenu-tile" class="submenu-tile red-hover" href="#" title="@Strings.Create">
        <i class="fa fa-plus-circle"></i>
    </a>


</nav>


@section Scripts {

    <script type="text/javascript">
        var subMenus = document.getElementsByClassName("submenu");

        for (var i = 0, max = subMenus.length; i < max; i++) {
            subMenus[i].style.display = "none";
        }

        var subMenuTiles = document.getElementsByClassName('submenu-tile');

        var menu = document.getElementById('menu');
        var menuToggle = function(e) {
            if (menu.style.display == "none") {
                menu.style.display = "flex";
            } else {
                menu.style.display = "none";
            }
        };

        
        //for (var i = 0, max = subMenuTiles.length; i < max; i++) {
        //    subMenuTiles[i].onclick = menuToggle;
        //}

        //toggle menu on submenu-tile click
        //document.getElementsByClassName('submenu-tile').onclick = function (e) {
        //    var menu = document.getElementById('menu');
        //    if (menu.style.display == "flex") {
        //        menu.style.display = "none";
        //    } else {
        //        menu.style.display = "flex";
        //    }
        //};

        //create-submenu toggle
        document.getElementById('create-submenu-tile').onclick = function (e) {
            menuToggle();
            var createSubMenu = document.getElementById('create-submenu');
            if (createSubMenu.style.display == "none") {
                createSubMenu.style.display = "flex";
            } else {
                createSubMenu.style.display = "none";
            }
        };

        //folder-submenu toggle
        document.getElementById('folder-submenu-tile').onclick = function (e) {
            menuToggle();
            var folderSubMenu = document.getElementById('folder-submenu');
            if (folderSubMenu.style.display == "none") {
                folderSubMenu.style.display = "flex";
            } else
                folderSubMenu.style.display = "none";
        };
    </script>

    }